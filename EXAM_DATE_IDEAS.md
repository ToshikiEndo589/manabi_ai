# 試験日ベースの合格率精度向上のアイデア

## コンセプト
2月1日（試験日）に近づくにつれて、合格率の計算精度が高くなる仕組み

## アイデア1: 精度係数による段階的精度向上 ⭐推奨
**仕組み:**
- 試験日までの残り日数に応じて、0.0〜1.0の精度係数を計算
- 精度係数が低い時（試験日が遠い）: 偏差値の変動幅を大きく見積もる
- 精度係数が高い時（試験日が近い）: 現在の偏差値をより正確に反映

**計算例:**
```
残り365日以上: 精度係数 0.3 → 偏差値±10の幅で計算
残り180日: 精度係数 0.5 → 偏差値±7の幅で計算
残り90日: 精度係数 0.7 → 偏差値±5の幅で計算
残り30日: 精度係数 0.9 → 偏差値±2の幅で計算
残り7日以下: 精度係数 1.0 → 現在の偏差値をそのまま使用
```

**メリット:**
- シンプルで実装しやすい
- ユーザーに「試験が近づくにつれて精度が上がる」感覚を与えられる
- 偏差値100%の計算を維持できる

## アイデア2: 合格率の幅表示
**仕組み:**
- 試験日が遠い時: 「50-70%」のような幅で表示
- 近づくにつれて幅が狭くなり、最終的に「65%」のように具体的になる

**表示例:**
```
残り365日: 「45-75%」（幅30%）
残り180日: 「55-70%」（幅15%）
残り90日: 「60-68%」（幅8%）
残り30日: 「63-66%」（幅3%）
残り7日以下: 「65%」（単一値）
```

**メリット:**
- 視覚的に精度の向上が分かりやすい
- ユーザーに「まだ不確定要素が多い」ことを伝えられる

## アイデア3: 期間別の計算ロジック
**仕組み:**
- 試験日までの期間を「準備期間」「追い込み期間」などに分ける
- 各期間で合格率の計算方法を変える

**期間区分:**
```
残り365日以上: 「準備期間」
  - 偏差値の変動を大きく見積もる
  - 目標偏差値との差を緩やかに評価
  
残り180-365日: 「基礎固め期間」
  - 偏差値の変動を中程度に見積もる
  
残り90-180日: 「実践期間」
  - 偏差値の変動を小さく見積もる
  - 現在の偏差値をより重視
  
残り30-90日: 「追い込み期間」
  - 偏差値の変動を最小限に
  - 目標偏差値との差を厳しく評価
  
残り30日以下: 「最終調整期間」
  - 現在の偏差値をそのまま使用
  - 最も精度の高い計算
```

**メリット:**
- 受験生の心理的な段階と一致する
- 各期間で適切なメッセージを表示できる

## アイデア4: 偏差値の信頼区間
**仕組み:**
- 試験日までの残り日数に応じて、偏差値の信頼区間を設定
- 信頼区間の幅が狭くなるほど精度が高い

**計算例:**
```
残り365日: 現在偏差値60 → 信頼区間[50-70] → 合格率を幅で計算
残り180日: 現在偏差値60 → 信頼区間[54-66] → 合格率を幅で計算
残り90日: 現在偏差値60 → 信頼区間[57-63] → 合格率を幅で計算
残り30日: 現在偏差値60 → 信頼区間[59-61] → 合格率を単一値で計算
```

**メリット:**
- 統計学的に正確な表現
- 精度の向上が数値で明確

## 推奨実装: アイデア1 + アイデア2の組み合わせ
1. **精度係数**で計算ロジックを調整（バックエンド）
2. **幅表示**でユーザーに視覚的に伝える（フロントエンド）

これにより、シンプルな実装で最大の効果を得られます。
